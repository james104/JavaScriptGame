<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

   <script type="text/javascript">

    </script>

</head>
<body>
<!--<img id="player" class="character" src="img/woody_s.bmp" style="left:0px;top:0px;position:absolute;">-->

<canvas id="gameCanvas" width="1500" height="500">

</canvas>

<script type="text/javascript">
    //canvas
    var canvasElement = document.getElementById("gameCanvas");
    var ctx = canvasElement.getContext && canvasElement.getContext('2d');
    if(ctx){
        ctx.fillStyle = "#FFFF00";
        ctx.fillRect(0,200,1500,300);
        
        playerImage = new Image();
        playerImage.id = "player";
        playerImage.src = "img/woody_s.bmp";
        playerImage.style = "left:0px;top:0px;position:absolute;";
        playerImage.onload = drawInCanvas("player",ctx,playerImage);

        cropImage = new Image();
        cropImage.id = "playerCrop";
        cropImage.src = "img/woody_0.bmp";
        cropImage.onload = drawInCanvas("npc",ctx,cropImage);

        

        //ctx.font = "30px Arial";
        //ctx.fillText("Hello World",10,50);
        //ctx.strokeText("Hello World",10,80);
    }

    function drawInCanvas(drawType,canvas,image){
        if(drawType == "player"){
            canvas.drawImage(image,0,300);
        }else if(drawType == "npc"){
            canvas.drawImage(image,18,5,41,75,100,100,41,75);
        }
    }


    //game status
    var timer = 0;
  

    //player
    var keyStatus = [];    
    var player = document.getElementById("player");
<<<<<<< HEAD

=======
    var tets = 0;
    setInterval(timerFunction,1000);
    setInterval(checkActionMove, 20);
>>>>>>> b93c38b9777755f32558e1ecdd89c3ad5a7facb3

    //setInterval(timerFunction,1000);
    //setInterval(checkActionMove, 20);

    function timerFunction(){
        timer += 1;
        ctx.font = "30px Arial";
        ctx.strokeText(timer,10,80);
        console.log(timer);
    }

    document.onkeydown = function(key){
        keyStatus[key.keyCode] = true;
    };

    document.onkeyup = function(key){
        delete keyStatus[key.keyCode];
    };

    function checkActionMove(){
        if (keyStatus[37]){//left
            //console.log("37"+ keyStatus[37]);
            player.style.left = (parseInt(player.style.left) - 5) + "px";
        }
        if (keyStatus[38]){//up
            //console.log("38"+ keyStatus[38]);
            player.style.top = (parseInt(player.style.top) - 5) + "px";
        }
        if (keyStatus[39]){//right
            //console.log("39"+ keyStatus[39]);
            player.style.left = (parseInt(player.style.left) + 5) + "px";
        }
        if (keyStatus[40]){//down
            //console.log("40"+ keyStatus[40]);
            player.style.top = (parseInt(player.style.top) + 5) + "px";
        }
    }
</script>

</body>
</html>